<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Release</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProjectGuid>{E5E06FF9-9241-4CDC-83B5-CB1A2E346E5F}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Mo_Controls\Properties</AppDesignerFolder>
    <RootNamespace>TommoJProductions.MoControlsV2</RootNamespace>
    <AssemblyName>Mo_Controls</AssemblyName>
    <TargetFrameworkVersion>v3.5</TargetFrameworkVersion>
    <FileAlignment>512</FileAlignment>
    <TargetFrameworkProfile>Unity Full v3.5</TargetFrameworkProfile>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Debug|x64'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\x64\Debug\</OutputPath>
    <DefineConstants>TRACE;DEBUG;X64</DefineConstants>
    <DebugType>full</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release|x64'">
    <OutputPath>bin\x64\Release\</OutputPath>
    <DefineConstants>X64</DefineConstants>
    <DocumentationFile>
    </DocumentationFile>
    <Optimize>true</Optimize>
    <PlatformTarget>x64</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Debug|x86'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\x86\Debug\</OutputPath>
    <DefineConstants>TRACE;DEBUG;X86</DefineConstants>
    <DebugType>full</DebugType>
    <PlatformTarget>x86</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Release|x86'">
    <OutputPath>bin\x86\Release\</OutputPath>
    <DefineConstants>X86</DefineConstants>
    <DocumentationFile>
    </DocumentationFile>
    <Optimize>true</Optimize>
    <PlatformTarget>x86</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'UPD_VER_Debug|x64'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\x64\Debug\</OutputPath>
    <DefineConstants>TRACE;DEBUG;X64</DefineConstants>
    <DebugType>full</DebugType>
    <PlatformTarget>x64</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'UPD_VER_Debug|x86'">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\x86\Debug\</OutputPath>
    <DefineConstants>TRACE;DEBUG;X86</DefineConstants>
    <DebugType>full</DebugType>
    <PlatformTarget>x86</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'UPD_VER_Release|x64'">
    <OutputPath>bin\x64\Release\</OutputPath>
    <DefineConstants>X64</DefineConstants>
    <Optimize>true</Optimize>
    <PlatformTarget>x64</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'UPD_VER_Release|x86'">
    <OutputPath>bin\x86\Release\</OutputPath>
    <DefineConstants>X86</DefineConstants>
    <Optimize>true</Optimize>
    <PlatformTarget>x86</PlatformTarget>
    <LangVersion>7.3</LangVersion>
    <ErrorReport>prompt</ErrorReport>
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="Mo_Controls\UIManager.cs" />
    <Compile Include="Mo_Controls\CameraManager.cs" />
    <Compile Include="Mo_Controls\ChangeInput.cs" />
    <Compile Include="Mo_Controls\Commands.cs" />
    <Compile Include="Mo_Controls\ControllerLook.cs" />
    <Compile Include="Mo_Controls\ControlManager.cs" />
    <Compile Include="Mo_Controls\FPSLook.cs" />
    <Compile Include="Mo_Controls\MouseInput\MouseEmulator.cs" />
    <Compile Include="Mo_Controls\MouseInput\User32Structs.cs" />
    <Compile Include="Mo_Controls\MouseInput\User32Imports.cs" />
    <Compile Include="Mo_Controls\MoControlsV2Mod.cs" />
    <Compile Include="Mo_Controls\MoMouseLook.cs" />
    <Compile Include="Mo_Controls\Properties\AssemblyInfo.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>AssemblyInfo.tt</DependentUpon>
    </Compile>
    <Compile Include="Mo_Controls\Properties\Resources.Designer.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>Resources.resx</DependentUpon>
    </Compile>
    <Compile Include="Mo_Controls\XInput\XInputStructs.cs" />
    <Compile Include="Mo_Controls\XInput\XInputGamepad.cs" />
    <Compile Include="Mo_Controls\XInput\XInputImports.cs" />
    <Compile Include="Mo_Controls\XInput\DeadzoneUtils.cs" />
  </ItemGroup>
  <ItemGroup>
    <Reference Include="0Harmony">
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\0Harmony.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="Assembly-CSharp, Version=0.0.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\Assembly-CSharp.dll</HintPath>
    </Reference>
    <Reference Include="Assembly-CSharp-firstpass, Version=0.0.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\Assembly-CSharp-firstpass.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="cInput, Version=1.0.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\cInput.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="MSCLoader">
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\MSCLoader.dll</HintPath>
    </Reference>
    <Reference Include="PlayMaker, Version=1.6.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\PlayMaker.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="System" />
    <Reference Include="UnityEngine">
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\UnityEngine.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="UnityEngine.UI, Version=1.0.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>F:\SteamLibrary\steamapps\common\My Summer Car\mysummercar_Data\Managed\UnityEngine.UI.dll</HintPath>
      <Private>False</Private>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Content Include="Mo_Controls\Properties\AssemblyInfo.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>AssemblyInfo.cs</LastGenOutput>
    </Content>
  </ItemGroup>
  <ItemGroup>
    <Service Include="{508349B6-6B84-4DF5-91F0-309BEEBAD82D}" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Mo_Controls\Properties\Resources.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Resources.Designer.cs</LastGenOutput>
      <SubType>Designer</SubType>
    </EmbeddedResource>
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
  <PropertyGroup>
    <MSC_DIR>F:\SteamLibrary\steamapps\common\My Summer Car\Mods</MSC_DIR>
    <MWC_DIR>F:\SteamLibrary\steamapps\common\My Winter Car\Mods</MWC_DIR>
    <UNITY3D_LOC>Q:\Unity\msc bundles\AssetBundles\mo_controls_v2.unity3d</UNITY3D_LOC>
    <PostBuildEvent>
IF "$(MSC_DIR)" == "" (
  GOTO mwc
)
IF "$(MSC_DIR)" == "NONE" (
  GOTO mwc
)
IF NOT EXIST "$(MSC_DIR)" (
  ECHO Error. mods dir not found. update MSC_DIR Property in .cspro.
  GOTO mwc
)

ECHO $(ProjectName) -^&gt; $(MSC_DIR)\$(TargetName).dll
COPY "$(TargetPath)" "$(MSC_DIR)" /y &gt;nul

IF /i "$(ConfigurationName)" == "debug" (
  GOTO msc_dbg
)
IF /i "$(ConfigurationName)" == "upd_ver_debug" (
  GOTO msc_dbg
)

GOTO mwc

:msc_dbg
IF EXIST "$(MSC_DIR)\debug.bat" (
  ECHO $(ProjectName) -^&gt; $(MSC_DIR)\$(TargetName).pdb
  COPY "$(TargetDir)$(TargetName).pdb" "$(MSC_DIR)" &gt;nul
  CD "$(MSC_DIR)"
  CALL "$(MSC_DIR)\debug.bat"
  DEL "$(MSC_DIR)\$(TargetName).pdb" /q &gt;nul
) ELSE (
  ECHO Error. $(MSC_DIR)\debug.bat not found. Are you in Debug mode?
)

:mwc
IF "$(MWC_DIR)" == "" (
  GOTO done
)
IF "$(MWC_DIR)" == "NONE" (
  GOTO done
)
IF NOT EXIST "$(MWC_DIR)" (
  ECHO Error. mwc mods dir not found. update MWC_DIR Property in .cspro.
  GOTO done
)

ECHO $(ProjectName) -^&gt; $(MWC_DIR)\$(TargetName).dll
COPY "$(TargetPath)" "$(MWC_DIR)" /y &gt;nul

IF /i "$(ConfigurationName)" == "debug" (
  GOTO mwc_dbg
)
IF /i "$(ConfigurationName)" == "upd_ver_debug" (
  GOTO mwc_dbg
)

GOTO done

:mwc_dbg
IF EXIST "$(MWC_DIR)\debug.bat" (
  ECHO $(ProjectName) -^&gt; $(MWC_DIR)\$(TargetName).pdb
  COPY "$(TargetName).pdb" "$(MWC_DIR)" &gt;nul
  CD "$(MWC_DIR)"
  CALL "$(MWC_DIR)\debug.bat"
  DEL "$(MWC_DIR)\$(TargetName).pdb" /q &gt;nul
) ELSE (
  ECHO Error. $(MWC_DIR)\debug.bat not found. Are you in Debug mode?
)

:done
EXIT /b 0</PostBuildEvent>
  </PropertyGroup>
  <PropertyGroup>
    <PreBuildEvent>IF /i "$(ConfigurationName)" == "upd_ver_release" (
    GOTO upd_ver
)
IF /i "$(ConfigurationName)" == "upd_ver_debug" (
    GOTO upd_ver
)
GOTO copy_asset_bundle

:upd_ver
REM update version
"$(DevEnvDir)TextTransform.exe" -a !!BuildConfiguration!$(Configuration) "$(ProjectDir)Properties\AssemblyInfo.tt"

: copy_asset_bundle

REM define mo_controls_v2.unity3d file if not defined in environment.
IF NOT "$(UNITY3D_LOC)" == "" (
  REM copy mo_controls_v2.unity3d into Resouces folder
  IF EXIST "$(UNITY3D_LOC)" (
    ECHO $(ProjectName) -^&gt; $(ProjectDir)Resources\mo_controls_v2.unity3d
    COPY "$(UNITY3D_LOC)" "$(ProjectDir)Resources\mo_controls_v2.unity3d" /y &gt;nul
  ) else (
    ECHO ERR: $(UNITY3D_LOC) not found. Update UNITY3D_LOC Property in .cspro.
  )
)</PreBuildEvent>
  </PropertyGroup>
</Project>